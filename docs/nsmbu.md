# World Map Scripts in NSMBU, NSLU, NSMBUDX

**THIS IS AN AUTO-GENERATED FILE -- DO NOT EDIT DIRECTLY!** Instead, edit the "nsmbu" files in the `data/` folder and run `cobra.py generate_documentation`. (Generated 2023-02-07T01:47:27.713098.)

The information below is specifically for the US 1.0.0 release on Wii U, except where noted. Specific numbers may vary in other releases. All names are unofficial except for the name of the "Event Assistant" actor.

Thanks to [Kinnay](https://github.com/kinnay), [Luminyx](https://github.com/Luminyx1), [Skawo](https://github.com/skawo), [Bent](https://github.com/RicBent), and [STUPID Modder](https://github.com/stupidestmodder) for helping with research in this game.

## Code Structure

### Overview

Command IDs (but not arguments, strangely) are empty in the static RPX data, and are filled in at runtime by the static init function at 0x021DAB60. Commands are read by the class with constructor at 0x021DC720 ("CsEventMgr"). The `イベントアシスタント` ("Event Assistant") actor is also involved in some way, and might be responsible for executing the events.

The scripts table is at 0x10044A60, and is an array of 119 of the following: `{uint32_t priority; ScriptCommand *script_ptr}` with `ScriptCommand` (unofficial name) having the same format as NSMBW, being `{uint32_t command_id; uint32_t argument}`. Scripts are executed using a priority queue, so if multiple scripts are triggered at the same time, they'll execute in order of descending priority.

The terminator command to end a script is 341.

### Version Differences Summary

Version | Scripts table address (US) | Number of scripts | Terminator command
------- | -------------------------- | ----------------- | ------------------
1.0.0   | 0x10044A60                 | 119               | 341
1.1.0   | 0x10044A98                 | 119               | 342
1.2.0   | 0x10044A98                 | 119               | 342
1.3.0   | 0x100458B8                 | 121               | 344
Deluxe  | 0x00bd5514                 | 120               | 343

* **1.1.0**: added a new command, 341 &mdash; not used in any script. Also added a command 89 to the beginning of script 114.
* **1.2.0**: no changes.
* **1.3.0**: added two new scripts (119, 120), which use two new commands (291, 292). No changes to existing scripts, except that all command IDs higher than 290 were increased by 2 due to the new commands added there.
* **Deluxe**: removed script 114 and command 311 (which was only used in script 114), shifting all higher numbers down by one in both cases. No changes to existing scripts, except that all command IDs higher than 311 were decreased by 1.

### NSMBUDX

The scripts table in NSMBUDX (international version) is at `base`+0x00bd5514 (`base` being the ASLR base address for the .text section). Unlike on Wii U, this release has no static init function; the scripts data is fully populated at compile time.

## Scripts

### 1.0.0

ID | Name | Description
-- | ---- | -----------
**0** | `null` | Ends instantly without doing anything.
**1** | ?? | -
**2** | ?? | -
**3** | ?? | -
**4** | ?? | -
**5** | ?? | -
**6** | ?? | -
**7** | ?? | -
**8** | ?? | -
**9** | ?? | -
**10** | ?? | -
**11** | ?? | -
**12** | ?? | -
**13** | ?? | -
**14** | ?? | -
**15** | ?? | -
**16** | ?? | -
**17** | ?? | -
**18** | ?? | -
**19** | ?? | -
**20** | ?? | -
**21** | ?? | -
**22** | ?? | -
**23** | ?? | -
**24** | ?? | -
**25** | ?? | -
**26** | ?? | -
**27** | ?? | -
**28** | ?? | -
**29** | ?? | -
**30** | ?? | -
**31** | ?? | -
**32** | ?? | -
**33** | ?? | -
**34** | ?? | -
**35** | ?? | -
**36** | ?? | -
**37** | ?? | -
**38** | ?? | -
**39** | ?? | -
**40** | ?? | -
**41** | ?? | -
**42** | ?? | -
**43** | ?? | -
**44** | ?? | -
**45** | ?? | -
**46** | ?? | -
**47** | ?? | -
**48** | ?? | -
**49** | ?? | -
**50** | ?? | -
**51** | ?? | -
**52** | ?? | -
**53** | ?? | -
**54** | ?? | -
**55** | ?? | -
**56** | ?? | -
**57** | ?? | -
**58** | ?? | -
**59** | ?? | -
**60** | ?? | -
**61** | ?? | -
**62** | ?? | -
**63** | ?? | -
**64** | ?? | -
**65** | ?? | -
**66** | ?? | -
**67** | ?? | -
**68** | ?? | -
**69** | ?? | -
**70** | ?? | -
**71** | ?? | -
**72** | ?? | -
**73** | ?? | -
**74** | ?? | -
**75** | ?? | -
**76** | ?? | -
**77** | ?? | -
**78** | ?? | -
**79** | ?? | -
**80** | ?? | -
**81** | ?? | -
**82** | ?? | -
**83** | ?? | -
**84** | ?? | -
**85** | ?? | -
**86** | ?? | -
**87** | ?? | -
**88** | ?? | -
**89** | ?? | -
**90** | ?? | -
**91** | ?? | -
**92** | ?? | -
**93** | ?? | -
**94** | ?? | -
**95** | ?? | -
**96** | ?? | -
**97** | ?? | -
**98** | ?? | -
**99** | ?? | -
**100** | ?? | -
**101** | ?? | -
**102** | ?? | -
**103** | ?? | -
**104** | ?? | -
**105** | ?? | -
**106** | ?? | -
**107** | ?? | -
**108** | ?? | -
**109** | ?? | -
**110** | ?? | -
**111** | ?? | -
**112** | ?? | -
**113** | ?? | -
**114** | ?? | -
**115** | ?? | -
**116** | ?? | -
**117** | ?? | -
**118** | ?? | -

### 1.3.0 and NSLU

ID | Name | Description
-- | ---- | -----------
**119** | ?? | -
**120** | ?? | -

### NSMBUDX

#### Re-numbered

* **115+** renumbered to **114+**

#### Removed

**114**


## Commands

### 1.0.0

ID | Name | Description | Argument
-- | ---- | ----------- | --------
**0** | ?? | Unused. | ??
**1** | ?? | - | ??
**2** | ?? | - | ??
**3** | ?? | - | ??
**4** | ?? | - | ??
**5** | ?? | - | ??
**6** | ?? | - | ??
**7** | `wait` | Causes the script to delay before continuing. Note: NSMBU runs at 60 FPS. | Duration (frames)
**8** | ?? | - | ??
**9** | ?? | - | ??
**10** | ?? | - | ??
**11** | ?? | - | ??
**12** | ?? | - | ??
**13** | ?? | - | ??
**14** | ?? | Unused. | ??
**15** | ?? | Unused. | ??
**16** | ?? | - | ??
**17** | ?? | - | ??
**18** | ?? | - | ??
**19** | ?? | Unused. | ??
**20** | ?? | Unused. | ??
**21** | ?? | Unused. | ??
**22** | ?? | Unused. | ??
**23** | ?? | - | ??
**24** | ?? | - | ??
**25** | ?? | - | ??
**26** | ?? | - | ??
**27** | ?? | - | ??
**28** | ?? | - | ??
**29** | ?? | - | ??
**30** | ?? | - | ??
**31** | ?? | Unused. | ??
**32** | ?? | - | ??
**33** | ?? | - | ??
**34** | ?? | - | ??
**35** | ?? | - | ??
**36** | ?? | - | ??
**37** | ?? | - | ??
**38** | ?? | - | ??
**39** | ?? | Unused. | ??
**40** | ?? | - | ??
**41** | ?? | - | ??
**42** | ?? | - | ??
**43** | ?? | - | ??
**44** | ?? | Unused. | ??
**45** | ?? | - | ??
**46** | ?? | Unused. | ??
**47** | ?? | - | ??
**48** | ?? | - | ??
**49** | ?? | - | ??
**50** | ?? | - | ??
**51** | ?? | - | ??
**52** | ?? | - | ??
**53** | ?? | - | ??
**54** | ?? | - | ??
**55** | ?? | - | ??
**56** | ?? | - | ??
**57** | ?? | - | ??
**58** | ?? | - | ??
**59** | ?? | - | ??
**60** | ?? | Unused. | ??
**61** | ?? | - | ??
**62** | ?? | Unused. | ??
**63** | ?? | - | ??
**64** | ?? | - | ??
**65** | ?? | - | ??
**66** | ?? | - | ??
**67** | ?? | Unused. | ??
**68** | ?? | Unused. | ??
**69** | ?? | - | ??
**70** | ?? | - | ??
**71** | ?? | - | ??
**72** | ?? | - | ??
**73** | ?? | - | ??
**74** | ?? | - | ??
**75** | ?? | - | ??
**76** | ?? | Unused. | ??
**77** | ?? | Unused. | ??
**78** | ?? | Unused. | ??
**79** | ?? | Unused. | ??
**80** | ?? | - | ??
**81** | ?? | - | ??
**82** | ?? | - | ??
**83** | ?? | - | ??
**84** | ?? | - | ??
**85** | ?? | - | ??
**86** | ?? | - | ??
**87** | ?? | - | ??
**88** | ?? | - | ??
**89** | ?? | - | ??
**90** | ?? | - | ??
**91** | ?? | - | ??
**92** | ?? | - | ??
**93** | ?? | Unused. | ??
**94** | ?? | Unused. | ??
**95** | ?? | Unused. | ??
**96** | ?? | Unused. | ??
**97** | ?? | Unused. | ??
**98** | ?? | Unused. | ??
**99** | ?? | - | ??
**100** | ?? | Unused. | ??
**101** | ?? | Unused. | ??
**102** | ?? | - | ??
**103** | ?? | - | ??
**104** | ?? | Unused. | ??
**105** | ?? | - | ??
**106** | ?? | - | ??
**107** | ?? | - | ??
**108** | ?? | Unused. | ??
**109** | ?? | - | ??
**110** | ?? | - | ??
**111** | ?? | - | ??
**112** | ?? | - | ??
**113** | ?? | - | ??
**114** | ?? | - | ??
**115** | ?? | - | ??
**116** | ?? | - | ??
**117** | ?? | - | ??
**118** | ?? | - | ??
**119** | ?? | - | ??
**120** | ?? | Unused. | ??
**121** | ?? | - | ??
**122** | ?? | - | ??
**123** | ?? | - | ??
**124** | ?? | - | ??
**125** | ?? | - | ??
**126** | ?? | - | ??
**127** | ?? | - | ??
**128** | ?? | - | ??
**129** | ?? | - | ??
**130** | ?? | - | ??
**131** | ?? | - | ??
**132** | ?? | - | ??
**133** | ?? | - | ??
**134** | ?? | - | ??
**135** | ?? | - | ??
**136** | ?? | - | ??
**137** | ?? | Unused. | ??
**138** | ?? | - | ??
**139** | ?? | - | ??
**140** | ?? | - | ??
**141** | ?? | - | ??
**142** | ?? | - | ??
**143** | ?? | - | ??
**144** | ?? | - | ??
**145** | ?? | - | ??
**146** | ?? | - | ??
**147** | ?? | - | ??
**148** | ?? | - | ??
**149** | ?? | - | ??
**150** | ?? | - | ??
**151** | ?? | - | ??
**152** | ?? | - | ??
**153** | ?? | - | ??
**154** | ?? | - | ??
**155** | ?? | - | ??
**156** | ?? | - | ??
**157** | ?? | - | ??
**158** | ?? | Unused. | ??
**159** | ?? | Unused. | ??
**160** | ?? | Unused. | ??
**161** | ?? | - | ??
**162** | ?? | - | ??
**163** | ?? | - | ??
**164** | ?? | - | ??
**165** | ?? | - | ??
**166** | ?? | - | ??
**167** | ?? | - | ??
**168** | ?? | Unused. | ??
**169** | ?? | Unused. | ??
**170** | ?? | Unused. | ??
**171** | ?? | Unused. | ??
**172** | ?? | Unused. | ??
**173** | ?? | Unused. | ??
**174** | ?? | - | ??
**175** | ?? | Unused. | ??
**176** | ?? | Unused. | ??
**177** | ?? | Unused. | ??
**178** | ?? | Unused. | ??
**179** | ?? | - | ??
**180** | ?? | - | ??
**181** | ?? | - | ??
**182** | ?? | Unused. | ??
**183** | ?? | Unused. | ??
**184** | ?? | Unused. | ??
**185** | ?? | Unused. | ??
**186** | ?? | Unused. | ??
**187** | ?? | Unused. | ??
**188** | ?? | - | ??
**189** | ?? | Unused. | ??
**190** | ?? | - | ??
**191** | ?? | Unused. | ??
**192** | ?? | - | ??
**193** | ?? | Unused. | ??
**194** | ?? | - | ??
**195** | ?? | Unused. | ??
**196** | ?? | - | ??
**197** | ?? | - | ??
**198** | ?? | - | ??
**199** | ?? | - | ??
**200** | ?? | - | ??
**201** | ?? | - | ??
**202** | ?? | - | ??
**203** | ?? | - | ??
**204** | ?? | - | ??
**205** | ?? | - | ??
**206** | ?? | - | ??
**207** | ?? | - | ??
**208** | ?? | - | ??
**209** | ?? | - | ??
**210** | ?? | - | ??
**211** | ?? | - | ??
**212** | ?? | - | ??
**213** | ?? | - | ??
**214** | ?? | - | ??
**215** | ?? | - | ??
**216** | ?? | - | ??
**217** | ?? | - | ??
**218** | ?? | Unused. | ??
**219** | ?? | - | ??
**220** | ?? | - | ??
**221** | ?? | Unused. | ??
**222** | ?? | - | ??
**223** | ?? | - | ??
**224** | ?? | Unused. | ??
**225** | ?? | Unused. | ??
**226** | ?? | - | ??
**227** | ?? | Unused. | ??
**228** | ?? | - | ??
**229** | ?? | Unused. | ??
**230** | ?? | - | ??
**231** | ?? | - | ??
**232** | ?? | - | ??
**233** | ?? | - | ??
**234** | ?? | - | ??
**235** | ?? | - | ??
**236** | ?? | - | ??
**237** | ?? | - | ??
**238** | ?? | - | ??
**239** | ?? | - | ??
**240** | ?? | - | ??
**241** | ?? | - | ??
**242** | ?? | - | ??
**243** | ?? | - | ??
**244** | ?? | - | ??
**245** | ?? | - | ??
**246** | ?? | - | ??
**247** | ?? | - | ??
**248** | ?? | - | ??
**249** | ?? | - | ??
**250** | ?? | - | ??
**251** | ?? | - | ??
**252** | ?? | - | ??
**253** | ?? | - | ??
**254** | ?? | - | ??
**255** | ?? | - | ??
**256** | ?? | Unused. | ??
**257** | ?? | - | ??
**258** | ?? | - | ??
**259** | ?? | Unused. | ??
**260** | ?? | - | ??
**261** | ?? | Unused. | ??
**262** | ?? | - | ??
**263** | ?? | Unused. | ??
**264** | ?? | - | ??
**265** | ?? | - | ??
**266** | ?? | - | ??
**267** | ?? | - | ??
**268** | ?? | - | ??
**269** | ?? | - | ??
**270** | ?? | Unused. | ??
**271** | ?? | - | ??
**272** | ?? | - | ??
**273** | ?? | - | ??
**274** | ?? | - | ??
**275** | ?? | - | ??
**276** | ?? | - | ??
**277** | ?? | - | ??
**278** | ?? | - | ??
**279** | ?? | - | ??
**280** | ?? | - | ??
**281** | ?? | - | ??
**282** | ?? | - | ??
**283** | ?? | - | ??
**284** | ?? | - | ??
**285** | ?? | Unused. | ??
**286** | ?? | - | ??
**287** | ?? | - | ??
**288** | ?? | - | ??
**289** | ?? | - | ??
**290** | ?? | - | ??
**291** | ?? | - | ??
**292** | ?? | - | ??
**293** | ?? | - | ??
**294** | ?? | - | ??
**295** | ?? | - | ??
**296** | ?? | - | ??
**297** | ?? | - | ??
**298** | ?? | - | ??
**299** | ?? | - | ??
**300** | ?? | - | ??
**301** | ?? | - | ??
**302** | ?? | - | ??
**303** | ?? | - | ??
**304** | ?? | - | ??
**305** | ?? | - | ??
**306** | ?? | - | ??
**307** | ?? | - | ??
**308** | ?? | - | ??
**309** | ?? | - | ??
**310** | ?? | - | ??
**311** | ?? | - | ??
**312** | ?? | - | ??
**313** | ?? | - | ??
**314** | ?? | - | ??
**315** | ?? | Unused. | ??
**316** | ?? | - | ??
**317** | ?? | - | ??
**318** | ?? | - | ??
**319** | ?? | - | ??
**320** | ?? | - | ??
**321** | ?? | - | ??
**322** | ?? | - | ??
**323** | ?? | - | ??
**324** | ?? | - | ??
**325** | ?? | Unused. | ??
**326** | ?? | - | ??
**327** | ?? | - | ??
**328** | ?? | - | ??
**329** | ?? | - | ??
**330** | ?? | - | ??
**331** | ?? | - | ??
**332** | ?? | - | ??
**333** | ?? | - | ??
**334** | ?? | - | ??
**335** | ?? | - | ??
**336** | ?? | - | ??
**337** | ?? | - | ??
**338** | ?? | - | ??
**339** | ?? | - | ??
**340** | ?? | - | ??
**341** | `end` | Ends the script. | None

### 1.1.0 and 1.2.0

#### Re-numbered

* **341+** renumbered to **342+**

#### Added

ID | Name | Description | Argument
-- | ---- | ----------- | --------
**341** | ?? | Unused. | ??

### 1.3.0 and NSLU

#### Re-numbered

* **291+** renumbered to **293+**

#### Added

ID | Name | Description | Argument
-- | ---- | ----------- | --------
**291** | ?? | - | ??
**292** | ?? | - | ??

### NSMBUDX

#### Re-numbered

* **312+** renumbered to **311+**

#### Removed

**311**

